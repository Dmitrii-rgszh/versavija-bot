#!/usr/bin/env python3
"""
–ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É –±–µ–∑ polling
"""

import asyncio
import random
import os
from aiogram import Bot

# –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ —Å—é–¥–∞
BOT_TOKEN = os.getenv('BOT_TOKEN', '7815199281:AAHIW7FWqgUDAOrBqZFMwVnqoiaq-P7gbQQ')
TARGET_GROUP_ID = -1002553563891

WELCOME_MESSAGES = [
    "üåü **–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à—É –¥—Ä—É–∂–Ω—É—é –∫–æ–º–ø–∞–Ω–∏—é!** üåü\n–ü—Ä–∏–≤–µ—Ç! –Ø –í–µ—Ä—Å–∞–≤–∏—è - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–∞—à–∏ —Å–∞–º—ã–µ —è—Ä–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã! üì∏‚ú® –†–∞–¥–∞ –≤–∏–¥–µ—Ç—å –≤–∞—Å –∑–¥–µ—Å—å!",
    
    "üëã **–ü—Ä–∏–≤–µ—Ç-–ø—Ä–∏–≤–µ—Ç, –Ω–æ–≤—ã–π –¥—Ä—É–≥!** üëã\n–ö–∞–∫ –∑–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –≤—ã –∫ –Ω–∞–º –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª–∏—Å—å! ü•≥ –Ø –í–µ—Ä—Å–∞–≤–∏—è, –∏ —è —Å–æ–∑–¥–∞—é –≤–æ–ª—à–µ–±–Ω—ã–µ –∫–∞–¥—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—Å—Ç–∞–Ω—É—Ç—Å—è —Å –≤–∞–º–∏ –Ω–∞–≤—Å–µ–≥–¥–∞! üì∑üí´",
    
    "üéâ **–£—Ä–∞! –£ –Ω–∞—Å –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ!** üéâ\n–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ú–µ–Ω—è –∑–æ–≤—É—Ç –í–µ—Ä—Å–∞–≤–∏—è, –∏ —è –æ–±–æ–∂–∞—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å! üì∏ –ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ –∫—Ä–∞—Å–∏–≤—ã–µ –∫–∞–¥—Ä—ã! üåà"
]

async def test_send_message():
    bot = Bot(token=BOT_TOKEN)
    
    try:
        welcome_text = random.choice(WELCOME_MESSAGES)
        test_message = f"üß™ **–¢–ï–°–¢ –ü–†–ò–í–ï–¢–°–¢–í–ò–Ø:**\n\n{welcome_text}\n\n_(–≠—Ç–æ —Ç–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)_"
        
        result = await bot.send_message(
            chat_id=TARGET_GROUP_ID,
            text=test_message,
            parse_mode="Markdown"
        )
        
        print(f"‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!")
        print(f"üìù ID —Å–æ–æ–±—â–µ–Ω–∏—è: {result.message_id}")
        print(f"üéØ –ì—Ä—É–ø–ø–∞: {TARGET_GROUP_ID}")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
    finally:
        await bot.session.close()

if __name__ == "__main__":
    print("üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è...")
    asyncio.run(test_send_message())